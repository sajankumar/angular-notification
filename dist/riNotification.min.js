!function(e){"use strict";e.module("ri.notify",[]).provider("Notification",function(){this.config={delay:2e3,category:"info",onClose:void 0,priority:0},this.configure=function(i){if(!e.isObject(i))throw new Error("config should be an object!");this.config=e.extend({},this.config,i)},this.$get=["$timeout","$compile","$templateCache","$rootScope","$injector","$q","$window",function(i,o,t,r,n,s,a){var c=this.config.delay,l=this.config.category,f=this.config.onClose,d=this.config.priority,p=[],u=function(n,a){var u=s.defer();if("object"!=typeof n||null===n)throw new Error("required parameters expected as an object");n.scope=n.scope?n.scope:r,n.delay=e.isUndefined(n.delay)?c:n.delay,n.category=a||n.category||l||"info",n.onClose=n.onClose?n.onClose:f,n.priority=n.priority?n.priority:d;return function(){var r=t.get("notification.html"),s=n.scope.$new();s.message=n.message,s.title=n.title,s.type=n.category.toLowerCase(),s.delay=n.delay,s.onClose=n.onClose;var a=o(r)(s);a.priority=n.priority;var c=function(e){e=e.originalEvent||e,"click"===e.type&&"closeBtn"===e.target.id&&(s.onClose&&s.$apply(s.onClose(a)),a.remove(),p.splice(p.indexOf(a),1),l(),s.$destroy())};a.bind("click",c),e.isUndefined(n.onClose)||(n.onClose=c),n.delay>0&&"info"===n.category&&i(function(){for(var i,o=0;o<p.length;o++)i=p[o],e.element(i).attr("class").split(" ")[1]===n.category&&(s.onClose&&s.$apply(s.onClose(i)),i.remove(),p.splice(p.indexOf(i),1),l(),s.$destroy())},n.delay);var l=function(){p.sort(function(e,i){return i.priority-e.priority});for(var e,i,o=10,t=0;t<p.length;t++)if(e=p[t],i=parseInt(e[0].offsetHeight),t>0){var r=i+o;o=r,e.css({top:r+"px"})}else e.css({top:"10px"})};a.addClass(n.category),e.element(document.querySelector("body")).append(a),p.push(a),u.resolve(s),i(l,0)}(),u.promise};return u.info=function(i){if(e.isUndefined(i.title))throw new Error("required title");if(e.isUndefined(i.message))throw new Error("required message");return this(i,"info")},u.warning=function(i){if(e.isUndefined(i.title))throw new Error("required title");if(e.isUndefined(i.message))throw new Error("required message");return this(i,"warning")},u.error=function(i){if(e.isUndefined(i.title))throw new Error("required title");if(e.isUndefined(i.message))throw new Error("required message");return this(i,"error")},u}]}).run(["$templateCache",function(e){var i='<section class="notification {{type}}">';i+='<header class="notifyHeader"><h3 class="notifyTitle"> {{title}} </h3>',i+='<button class="delete" id="closeBtn">x</button>',i+="</header>",i+='<div class="message"> {{message}} </div>',i+="</section>",e.put("notification.html",i)}])}(angular);